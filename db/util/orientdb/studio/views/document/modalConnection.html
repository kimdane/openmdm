<div ng-controller="DocumentModalBrowseController">
	<div class="modal-header">
		<button type="button" class="close" data-dismiss="modal" aria-hidden="true">Ã—</button>
		<h3>Add Link</h3>
	</div>
	
	<div class="modal-body row-fluid">
		
		<div class="row-fluid">
			<div class="span6">
				<p><strong>Ctrl + Enter</strong> to execute the query</p>
			</div>
			<div class="span6">
				<form class="form-inline nomargin">
					<button ng-click="query()" class="btn pull-right">Execute</button>
				</form>
			</div>
		</div>
		<div class="row-fluid">
			<form ng:submit="query()" class="form-inline">
				<textarea ui-codemirror="editorOptions" ng-model="queryText"></textarea>
			</form>
		</div>
	</div>
	<div class="modal-body row-fluid">

		<div class="row-fluid">
			<table class="table table-striped table-bordered table-hover table-condensed pointer" ng-show="headers">
				<thead>
					<tr>
						<th>#</th>
						<th ng-repeat="header in headers">{{header}}</th>
					</tr>
				</thead>
				<tbody>
					<tr ng-repeat="result in results">
						<td><input type="checkbox" ng-click="select(result)"></td>
						<td ng-repeat="header in headers">{{result[header]}}</td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
	<div class="modal-footer">
		<button type="button" class="btn" ng-click="hide()">Close</button>
		<button class="btn btn-primary" ng-disabled="added.length==0" ng-click="modal.saved=true;hide();createLink()">Add link</button>
	</div>
</div>